import argparse
import requests

parser = argparse.ArgumentParser(description='Find existing directories on a web server', add_help=False)
parser.add_argument('targeturl', type=str, help='target URL')
parser.add_argument('file_name', type=str, help='path to file containing directory names')
parser.add_argument('--help', action='help', help='show this help message and exit')

args = parser.parse_args()

def request(url):
    try:
        return requests.get(url)
    except requests.exceptions.ConnectionError:
        pass

with open(args.file_name, 'r') as file:
    for line in file:
        dirs = line.strip()
        full_url = args.targeturl + '/' + dirs
        response = request(full_url)
        if response:
            print('Found directory: ', full_url)
